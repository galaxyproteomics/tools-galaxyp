<?xml version="1.0"?>
<data_managers>
    <data_manager tool_file="data_manager/resource_building.xml" id="resource_building">
        <data_table name="proteinatlas">
            <output>
                <column name="value" />
                <column name="name" />
                <column name="path" output_ref="output" >
                    <move type="file">
                        <target base="${GALAXY_DATA_MANAGER_DATA_PATH}">proteinatlas/${path}</target>
                    </move>
                    <value_translation>${GALAXY_DATA_MANAGER_DATA_PATH}/proteinatlas/${path}</value_translation>
                    <value_translation type="function">abspath</value_translation>
                </column>
            </output>
        </data_table>
        <data_table name="peptide_atlas">
            <output>
                <column name="tissue" />
                <column name="name" />
                <column name="value" output_ref="output" >
                    <move type="file">
                        <!--source>${path}/${value}.tsv</source-->
                        <target base="${GALAXY_DATA_MANAGER_DATA_PATH}">peptide_atlas/</target>
                    </move>
                    <value_translation>${GALAXY_DATA_MANAGER_DATA_PATH}/peptide_atlas/${tissue}.tsv</value_translation>
                    <value_translation type="function">abspath</value_translation>
                </column>
            </output>
        <data_table name="id_mapping_tab"> <!-- Defines a Data Table to be modified. -->
        <output> <!-- Handle the output of the Data Manager Tool -->
            <column name="value" /> <!-- columns that are going to be specified by the Data Manager Tool -->
            <column name="name" />
            <column name="path" output_ref="output" >  <!-- The value of this column will be modified based upon data in "out_file". example value "phiX.fa" -->
                <move type="file"> <!-- Moving a file from the extra files path of "out_file" -->
                    <!--source>${path}</source--> <!-- File name within the extra files path -->
                    <target base="${GALAXY_DATA_MANAGER_DATA_PATH}">id_mapping/${path}</target> <!-- Target Location to store the file, directories are created as needed -->
                </move>
                <value_translation>${GALAXY_DATA_MANAGER_DATA_PATH}/id_mapping/${path}</value_translation> <!-- Store this value in the final Data Table -->
                <value_translation type="function">abspath</value_translation>
            </column>
        </output>
        </data_table>
        </data_table>
    </data_manager>
</data_managers>

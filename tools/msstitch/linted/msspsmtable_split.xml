<tool id="msspsmtable_split" name="Split tabular data" version="1.0">
    <description>on column user selects</description>
    <requirements>
        <requirement type="package" version="2.2">msstitch</requirement>
    </requirements>
    <command>
	    mkdir msspsmtable_split_output;
	    msspsmtable split -i '$input' --splitcol $splitcol -d msspsmtable_split_output
    </command>
    
    <inputs>
        <param name="input" type="data" format="tabular" label="Tabular table with header"/>
        <param name="splitcol" type="integer" value="" label="Number of column to split on"/>
    </inputs>
    
    <outputs>
        <collection name="splitmzidtsv_collection" type="list" label="Split PSM tables">
          <discover_datasets pattern="(?P&lt;designation&gt;.+)\.tsv" ext="mzidtsv" directory="msspsmtable_split_output" />
        </collection>
    </outputs>

    <help>
	    Takes a tabular dataset (e.g. PSM table) with a header and splits it into multiple files.
	    Each line is put in a file corresponding to the categories defined in 
	    the column indicated by the user.
    </help>
</tool>

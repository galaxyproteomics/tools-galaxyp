<tool id="msspsmtable_conffilt" name="Filter tabular table">
    <requirements>
        <requirement type="package" version="2.2">msstitch</requirement>
    </requirements>
  
    <description>based on e.g. confidence levels in a column</description>
    
    <command>
	    msspsmtable conffilt -i '$input' -o '$output'
	    --confidence-col $confcol --confidence-lvl $conflvl 
	    --confidence-better $confbet
    </command>
    
    <inputs>
      <param name="input" type="data" format="tabular" label="TSV of MSGF+ output" />
      <param name="confcol" type="integer" value="" label="TSV column with confidence values to filter on" />
      <param name="conflvl" type="float" value="" label="Threshold value" />
      <param name="confbet" type="select" display="radio" label="Better values are:">
	      <option value="higher">Higher</option>
	      <option value="lower">Lower</option>
      </param>
    </inputs>
    
    <outputs>
        <data format_source="input" name="output"/>
    </outputs>

    <help>
	    Filter a tabular table with header on a certain column contain e.g. p- or q-values.
	    Lines with a value better than the threshold are kept, the rest is removed.
    </help>

</tool>

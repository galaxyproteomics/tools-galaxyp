<tool id="msspeptable_modelqvals" name="Model peptide q-values">
    <requirements>
        <requirement type="package" version="2.2">msstitch</requirement>
    </requirements>
  
    <description>using linear regression to the peptide score</description>
    
    <command>
            msspeptable modelqvals -i $peptable -o $output
	    --scorecolpattern "$scorecolpattern" --fdrcolpattern $qcolpattern
    </command>
    
    <inputs>
        <param name="peptable" type="data" format="peptsv" 
		label="Peptide table"/>
        <param name="scorecolpattern" type="text" label="Regular expression pattern to identify score column" help="E.g. ^svm"/>
        <param name="qcolpattern" type="text" label="Regular expression pattern to identify column with q-values" help="q-value"/>
    </inputs>
    
    <outputs>
        <data format="peptsv" name="output"/>
    </outputs>

    <help>
	    This tool takes a tab separated table containing (amongst others) a score and a q-value
	    column. It outs the table with an added column containing a recalculated q-value
	    which has been computed by a fitting a linear model to the q-value/score data.
    </help>

</tool>

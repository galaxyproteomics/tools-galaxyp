<tool id="msslookup_isoquant" name="Create lookup table with isobaric quant data">
    <requirements>
        <requirement type="package" version="2.2">msstitch</requirement>
    </requirements>  
  
    <description>using spectra mzMLs and openMS isobaric quant</description>
    
    <command>
            cp '$dbfile' spec_lookup.sql
	    &&
	    msslookup isoquant -i
            #for $fn in $quants.keys()
            '$quants[$fn]'
            #end for
            --spectra 
            #for $sfn in $spectra.keys()
            '$spectra[$sfn]'
            #end for
            --dbfile spec_lookup.sql -o '$output'
    </command>
     
    <inputs>
      <param name="quants" type="data_collection" format="consxml" label="Quant data in consensusXML" />
      <param name="spectra" type="data_collection" format="mzml" label="Spectra in mzML" />
      <param name="dbfile" type="data" format="mslookupsql" label="Existing lookup table containing spectra" />
    </inputs>
    
    <outputs>
        <data format="mslookupsql" name="output"/>
    </outputs>

    <help>
	    This stores quantification data from OpenMS Isobaric Analyzer tools in an SQLite lookup database
	    for later use in PSM quantification.
    </help>

</tool>

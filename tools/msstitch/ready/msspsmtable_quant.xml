<tool id="msspsmtable_quant" name="Add quantdata to MSGF+ table">
    <requirements>
        <requirement type="package" version="2.2">msstitch</requirement>
    </requirements>
    <description>from lookup</description>
    <command>
	    cp '$lookup' quant_lookup.sql
	    &&
	    msspsmtable quant -i '$input' -o '$output' --dbfile quant_lookup.sql
            #if $isobaric
            --isobaric
            #end if
            #if $precursor
            --precursor
            #end if
    </command>
    <inputs>
      <param name="input" type="data" format="mzidtsv" label="Collapsed TSV of MSGF+ output" />
      <param name="lookup" type="data" format="mslookupsql" label="Lookup file for fetching quant and spectra info from" />
      <param name="isobaric" type="boolean" label="Isobaric quant data" truevalue="true" falsevalue="false"/>
      <param name="precursor" type="boolean" label="Precursor quant data" truevalue="true" falsevalue="false"/>
    </inputs>
    <outputs>
        <data format="mzidtsv" name="output"/>
    </outputs>
    <help>
	    This tool takes a PSM table and a lookup SQLite database containing quantification data that can
	    be isobaric or precursor. It outputs a PSM table with quant data.
    </help>

</tool>

<tool id="kinatestid_fisher_scoring" name="Scoring function for KINATEST-ID" version="50.5.0">
    <description>determine if peptides will be phosphorylated</description>
    <requirements>
       <requirement type="package" version="3.6.0">r-base</requirement>
    </requirements>
    <command><![CDATA[
        ln -s '$__tool_directory__/screener.csv' screener.csv &&
        ln -s '$FisherTable' Fisher-Table.csv && 
        ln -s '$CharacterizationTable' Fisher-Char.csv && 
        Rscript '$__tool_directory__/KinatestFisherScoring.R' $outgroup $ms $mfi $mfo $mth $mtw $mo $dz $po $ptw $pth $pfo $pfi $ps
    ]]></command>
    <inputs>
        <param format="csv" name="FisherTable" type="data" label="Fisher Odds Table output"/>
        <param format="csv" name="CharacterizationTable" type="data" label="Characterization Table Output"/>
		<param name="ms" type="text" value="ACD" label="Amino Acid(s) in -6 Position"/>
		<param name="mfi" type="text" value="EFG" label="Amino Acid(s) in -5 Position"/>
		<param name="mfo" type="text" value="HIK" label="Amino Acid(s) in -4 Position"/>
		<param name="mth" type="text" value="LMN" label="Amino Acid(s) in -3 Position"/>
		<param name="mtw" type="text" value="PQR" label="Amino Acid(s) in -2 Position"/>
		<param name="mo" type="text" value="STV" label="Amino Acid(s) in -1 Position"/>
		<param name="dz" type="text" value="Y" label="Amino Acid(s) in Central Position"/>
		<param name="po" type="text" value="VTS" label="Amino Acid(s) in +1 Position"/>
		<param name="ptw" type="text" value="RQP" label="Amino Acid(s) in +2 Position"/>
		<param name="pth" type="text" value="NML" label="Amino Acid(s) in +3 Position"/>
		<param name="pfo" type="text" value="KIH" label="Amino Acid(s) in +4 Position"/>
		<param name="pfi" type="text" value="GFE" label="Amino Acid(s) in +5 Position"/>
		<param name="ps" type="text" value="DCA" label="Amino Acid(s) in +6 Position"/>
		<param name="outgroup" type="text" value="kinase" label="Kinase Name"/>
    </inputs>      
    <outputs>
        <data format="csv" name="PeptidesWithScores" from_work_dir="output.csv" label="${outGroup}_Substrates and Scores"/>
    </outputs>
    <tests>
        <test>
        </test>
    </tests>

    
    <help><![CDATA[

	
This tool is intended for use in conjunction with a Kinamine tool and a Negative Motif Finder tool.  Using the outputs from those two functions (The Positive and Negative substrates as well as the Substrate Background Frequency) this tool calculates the kinases preferred substrate motif.


    ]]></help>
    <citations>
        <citation type="doi">10.1074/mcp.RA118.001111</citation>
    </citations>
</tool>


<tool id="pepnet" name="pepnet" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="21.05">
    <description>de novo sequencing of tandem mass spectra</description>
    <macros>
        <token name="@TOOL_VERSION@">1.0</token>
        <token name="@VERSION_SUFFIX@">0</token>
    </macros>
    <requirements>
        <requirement type="package" version="@TOOL_VERSION@">pepnet</requirement>
    </requirements>
    <command detect_errors="aggressive"><![CDATA[
denovo.py
    --input '$input'
    --model '$model'
    --output '$output'
    --default_charge '$default_charge'
    ]]></command>
    <inputs>
        <param argument="--input" type="data" multiple="false" format="mgf" label="Spectrum file"/>
        <!--TODO add data table-->
        <param argument="--model" type="data" multiple="false" format="hdf5" label="Peptide file" help="Model" />
        <param argument="--default_charge" type="integer" value="-1" min="-1" label="Default charge" help="for spectra without charges, -1 means disabled"/>
    </inputs>
    <outputs>
        <data name="output" format="tabular"/>
    </outputs>
    <tests>
        <test expect_num_outputs="1">
            <param name="input" location="https://zenodo.org/record/7869847/files/example.mgf?download=1"/>
            <param name="model" location="https://zenodo.org/record/7869847/files/model.h5?download=1"/>
            <output name="output" ftype="tabular">
                <assert_contents>
                    <has_n_lines n="1"/>
                    <has_n_columns n="1"/>
                </assert_contents>
            </output>
        </test>
    </tests>
    <help><![CDATA[
    ]]></help>
    <citations>
        <citation type="doi">10.1186/s40168-022-01454-1</citation>
        <citation type="doi">10.1073/pnas.1722325115</citation>
        <citation type="doi">10.1101/2021.03.29.437612</citation>
        <citation type="doi">10.1093/bioinformatics/bty046</citation>
    </citations>
</tool>